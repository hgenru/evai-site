---
import Base from "../layouts/Base.astro";
import LeafletMap from "../components/LeafletMap";
import "../styles/hero.css";

const headline = "Internal Pre‑Launch Party"; // бейдж‑подпись
const lead = "Ева почти готова. Осталось сделать самое важное — встретиться.";
const whenWhere = "31 октября, 19:00 · Ереван, ул. Лусинянц, 2 (частный театр «Артен»)";
const ticker = "> init eva_prelaunch … status: PENDING … clearance: L2";
---
<Base title={headline}>
  <section class="hero container">
    <div class="hero-grid">
      <div class="hero-col left">
        <h1 class="wordmark" aria-label="EVAI LLM">
          <span class="char evil">E</span>
          <span class="char evil">V</span>
          <span class="char neutral">A</span>
          <span class="char evil">I</span>
          <span class="char neutral dot">·</span>
          <span class="char evil">L</span>
          <span class="char neutral">L</span>
          <span class="char neutral">M</span>
        </h1>
        <div class="badge-row">
          <span class="headline-badge">{headline}</span>
          <span class="headline-badge">AGI</span>
          <span class="headline-badge">HYPE</span>
          <span class="headline-badge">BUBBLE</span>
        </div>
        <p class="lead">{lead}</p>
        <div class="ticker" data-typing="true">{ticker}</div>
        
      </div>
      <div class="hero-col right">
        <figure class="eve-figure">
          <div class="geo-field" id="geoField">
            <div class="piece circle"></div>
            <div class="piece square"></div>
            <div class="piece diamond"></div>
            <div class="piece tri"></div>
            <div class="piece circle"></div>
            <div class="piece square"></div>
            <div class="piece tri"></div>
            <div class="piece diamond"></div>
            <div class="piece circle"></div>
            <div class="piece square"></div>
            <div class="piece tri"></div>
            <div class="piece diamond"></div>
          </div>
          <div class="eve-vignette" aria-hidden="true"></div>
          <img src="/siluettte.png" alt="Силуэт Евы" />
        </figure>
      </div>
    </div>
  </section>

  <section class="section container cta-block">
    <div class="cta">
      <a class="btn" href="/eva_prelaunch_2025.ics" download>Добавить в календарь (.ics)</a>
      <a class="btn secondary" href="#location">Открыть карту</a>
    </div>
    <p class="datetime">31 октября, 19:00 · Ереван, ул. Лусинянц, 2</p>
  </section>

  <section class="section container">
    <h2>О событии</h2>
    <p class="about">Мы долго работали. Теперь время показать миру <span class="inline-redact">Еву</span> — ассистента, который изменит представление о том, как технологии взаимодействуют с людьми. Приходи на закрытый pre-launch EVAI. Это вечер перед стартом того, что, как мы уверены, совсем скоро охватит весь мир.</p>
    <div class="ticker classified" data-typing="true">&gt; classified: некоторые детали вечеринки доступны только офлайн</div>
  </section>

  <section class="section container">
    <h2>Дресс‑код</h2>
    <p><strong>Corporate casual</strong> или ироничные костюмы на тему ИИ/роботов/<span class="inline-redact">Захват мира</span>.<br/>Комфорт важнее концепции — приходите как удобно.</p>
  </section>

  <section id="location" class="section container">
    <h2>Локация / Карта</h2>
    <p><strong>Ереван, улица Лусинянц, 2 — частный театр «<span class="inline-redact">Артен</span>»</strong><br/>Рядом с «Долма Молл», ~10 минут пешком.</p>
    <div class="location-grid">
      <div class="map-col">
        <LeafletMap client:load />
      </div>
      <figure class="venue-image">
        <img src="/arten.jpg" alt="Вход в частный театр «Артен»" loading="lazy" />
      </figure>
    </div>
    <p class="muted" style="margin-top:10px">
      Ссылки: 
      <a href="https://maps.google.com/?q=Ереван, улица Лусинянц, 2" target="_blank" rel="noopener">Google Maps</a> ·
      <a href="https://yandex.ru/maps/?text=Ереван, улица Лусинянц, 2" target="_blank" rel="noopener">Yandex Maps</a>
    </p>
  </section>

  <section class="section container">
    <h2>Контакт</h2>
    <p><span class="inline-redact">CTO</span>: <strong><a href="https://t.me/a_plesovskikh" target="_blank" rel="noopener">t.me/a_plesovskikh</a></strong></p>
  </section>

  <footer class="footer container">
    <code>build: eva-prelaunch-0.9.7 | scope: INTERNAL</code>
  </footer>
  <script>
    // lightweight parallax for geometry field
    const host = document.querySelector('.hero');
    const field = document.getElementById('geoField');
    let raf;
    function onMove(e){
      const rect = host.getBoundingClientRect();
      const x = (e.clientX - rect.left)/rect.width - 0.5;
      const y = (e.clientY - rect.top)/rect.height - 0.5;
      cancelAnimationFrame(raf);
      raf = requestAnimationFrame(()=>{
        field?.style.setProperty('--mx', (x * 12) + 'px');
        field?.style.setProperty('--my', (y * 12) + 'px');
      });
    }
    host?.addEventListener('mousemove', onMove, { passive: true });

    // toggle EVIL colorway for wordmark on silhouette click
    const fig = document.querySelector('.eve-figure');
    fig?.addEventListener('click', () => {
      document.documentElement.classList.toggle('evil-mode');
    });
  </script>
</Base>
